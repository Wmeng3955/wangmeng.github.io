<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>王蒙的个人博客</title><link>https://Wmeng3955.github.io/wangmeng.github.io</link><description>记录个人软件工作经验</description><copyright>王蒙的个人博客</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://avatars.githubusercontent.com/u/173882374?u=18a873df0dc8e4558b6ed10f507eaac4ab535f98&amp;v=4</url><title>avatar</title><link>https://Wmeng3955.github.io/wangmeng.github.io</link></image><lastBuildDate>Thu, 27 Jun 2024 07:19:20 +0000</lastBuildDate><managingEditor>王蒙的个人博客</managingEditor><ttl>60</ttl><webMaster>王蒙的个人博客</webMaster><item><title>k8s安装指导手册</title><link>https://Wmeng3955.github.io/wangmeng.github.io/post/k8s-an-zhuang-zhi-dao-shou-ce.html</link><description># 在线安装k8s 以及kubesphere 容器平台&#13;
## 软件版本信息&#13;
&#13;
- 操作系统版本：CentOS 7.x&#13;
- KubeSphere版本：v3.1.1&#13;
- KubeKey版本：v1.2.1&#13;
- K8s版本：v1.19.8&#13;
- Docker版本：v20.10.9&#13;
&#13;
## 部署节点&#13;
1主2从&#13;
## 服务器基础配置 【主从节点一致】&#13;
### os 基础配置&#13;
*备注：参考前篇os操作系统基础配置【可使用自动化脚本】&#13;
1、关闭防火墙和SELinux&#13;
```shell&#13;
iptables -F&#13;
systemctl stop firewalld &amp;&amp; systemctl disable firewalld&#13;
sed -i 's/SELINUX=enforcing/SELINUX=disabled/' /etc/selinux/config&#13;
setenforce 0&#13;
```&#13;
2、配置主机名&#13;
hostnamectl set-hostname  master/worker1/worker2&#13;
3、系统参数修改&#13;
```shell &#13;
sed -i 's/4096/40960/g' /etc/security/limits.d/20-nproc.conf&#13;
echo '* soft nofile 102400' &gt;&gt; /etc/security/limits.conf&#13;
echo '* hard nofile 102400' &gt;&gt; /etc/security/limits.conf&#13;
```&#13;
4、设置时间同步和时区&#13;
```shell&#13;
yum install -y chrony&#13;
systemctl enable chronyd&#13;
systemctl start chronyd&#13;
timedatectl set-ntp true&#13;
timedatectl set-timezone Asia/Shanghai&#13;
date -s  “2020-10-28 10:15:15”&#13;
加定时任务在线同步服务器时间&#13;
0 30 * * * ntpdate ntp.aliyun.com &gt; /dev/null 2&gt;&amp;1 &amp;&#13;
Ps：构建镜像的时候选择时区。</description><guid isPermaLink="true">https://Wmeng3955.github.io/wangmeng.github.io/post/k8s-an-zhuang-zhi-dao-shou-ce.html</guid><pubDate>Thu, 27 Jun 2024 07:12:52 +0000</pubDate></item><item><title>OS常规配置</title><link>https://Wmeng3955.github.io/wangmeng.github.io/post/OS-chang-gui-pei-zhi.html</link><description># 操作系统OS &#13;
## linux &#13;
### centos镜像&#13;
#### 配置方法&#13;
1. 备份 &#13;
`mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup`&#13;
2. 下载新的 CentOS-Base.repo 到 /etc/yum.repos.d/ &#13;
`wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo`&#13;
3.  运行 yum makecache 生成缓存&#13;
4. 常见问题&#13;
`sed -i -e '/mirrors.cloud.aliyuncs.com/d' -e '/mirrors.aliyuncs.com/d' /etc/yum.repos.d/CentOS-Base.repo`&#13;
&#13;
&#13;
&#13;
&#13;
### Centos 系统初始化&#13;
#### 系统初始化-centos7【联网】&#13;
```shell&#13;
&#13;
iptables -F&#13;
systemctl disable firewalld &amp;&amp; systemctl stop firewalld&#13;
systemctl disable postfix &amp;&amp; systemctl stop postfix&#13;
setenforce 0&#13;
&#13;
sed -i 's/SELINUX=enforcing/SELINUX=disabled/g' /etc/selinux/config&#13;
sed -i 's/4096/40960/g' /etc/security/limits.d/20-nproc.conf&#13;
&#13;
echo '* soft nofile 102400' &gt;&gt; /etc/security/limits.conf&#13;
echo '* hard nofile 102400' &gt;&gt; /etc/security/limits.conf&#13;
echo 'hive - nofile 102400' &gt;&gt; /etc/security/limits.conf&#13;
echo 'hive - nproc 102400' &gt;&gt; /etc/security/limits.conf&#13;
&#13;
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup&#13;
curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo&#13;
sed -i -e '/mirrors.cloud.aliyuncs.com/d' -e '/mirrors.aliyuncs.com/d' /etc/yum.repos.d/CentOS-Base.repo&#13;
yum makecache&#13;
yum install -y wget&#13;
&#13;
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo&#13;
yum makecache fast&#13;
&#13;
yum groupinstall 'development tools' -y&#13;
yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel -y&#13;
&#13;
yum install lvm2 vim lrzsz ntp chrony wget zip unzip git screen telnet net-tools traceroute lsof -y&#13;
yum install yum-utils yum-plugin-downloadonly device-mapper-persistent-data -y&#13;
&#13;
```&#13;
#重启服务器#&#13;
`reboot`&#13;
&#13;
#修改hostname#&#13;
`hostnamectl set-hostname  *设置主机名* `&#13;
&#13;
&#13;
&#13;
。</description><guid isPermaLink="true">https://Wmeng3955.github.io/wangmeng.github.io/post/OS-chang-gui-pei-zhi.html</guid><pubDate>Thu, 27 Jun 2024 02:48:58 +0000</pubDate></item><item><title>小王同学的第一篇个人博文</title><link>https://Wmeng3955.github.io/wangmeng.github.io/post/xiao-wang-tong-xue-de-di-yi-pian-ge-ren-bo-wen.html</link><description># 一级标题&#13;
## 二级标题&#13;
`cmd `&#13;
```shell&#13;
ls pwd cat &#13;
```。</description><guid isPermaLink="true">https://Wmeng3955.github.io/wangmeng.github.io/post/xiao-wang-tong-xue-de-di-yi-pian-ge-ren-bo-wen.html</guid><pubDate>Wed, 26 Jun 2024 07:03:44 +0000</pubDate></item></channel></rss>